# Location Tracking System

## Как работает

### Фронтенд
- `useGeolocation` - получает GPS координаты в реальном времени
- `useLocationTracking` - отправляет координаты на сервер каждые 15 секунд
- Отправка происходит автоматически при открытой странице карты

### Бэкенд
- `POST /api/location` - принимает координаты игрока
- Обновляет `player_locations` (текущая позиция)
- Добавляет запись в `location_history` (для треков)
- Проверяет зоны радиации и контрольные точки
- Возвращает информацию о текущих зонах и ближайших артефактах

### Данные отправляются:
```json
{
  "latitude": 34.707123,
  "longitude": 33.022456,
  "accuracy": 15.5
}
```

### Интервал отправки
- **15 секунд** - текущая настройка
- Можно изменить в `useLocationTracking.ts` (параметр `setInterval`)

## Следующие шаги

### 1. Карта Game Master
- Показать всех игроков на карте в реальном времени
- Endpoint: `GET /api/admin/locations`

### 2. Трекинг радиации (отдельная задача)
- Сохранять время входа в зону радиации
- Сохранять время выхода
- Считать общее время пребывания
- Накапливать радиацию игроку

### 3. WebSocket для real-time
- Broadcast позиций игроков GM
- Уведомления о входе/выходе из зон
